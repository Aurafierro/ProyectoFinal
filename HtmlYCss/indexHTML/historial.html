<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AsignaWeb</title>
    <link rel="stylesheet" href="/HtmlYCss/css/historial.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="logo">
                <img src="/HtmlYCss/img/NuevoLog.png" alt="AsignaWeb">
            </div>
            <div class="profile-container">
                <img id="profilePic" src="profile.jpg">
                <div class="overlay">
                    <i class="fa fa-camera"></i>
                </div>
                <input type="file" id="profileInput" accept="image/*" style="display: none;">
                
            </div>
            <nav>
                <ul>
                    <li><a href="#"><i class="fas fa-user-edit"></i>Modificar datos</a></li>
                    <li><a href="#"><i class="fas fa-key"></i>Cambiar contraseña</a></li>
                    <li><a href="#"><i class="fas fa-history"></i>Historial</a></li>
                    <li><a href="#"><i class="fas fa-trash-alt"></i>Eliminar cuenta</a></li>
                </ul>
            </nav>
        </div>
        
        <!-- Contenido principal -->
        <div class="main-content">
            <header>
                <span class="logout">Cerrar sesión</span>
            </header>
            <!-- Contenido busqueda y demas -->
            <div class="search-options">
                <div class="search-bar-wrapper">
                    <div class="search-bar">
                        <input type="text" placeholder="Ingresa el nombre que deseas buscar">
                        <button><i class="fas fa-search"></i></button>
                    </div>
                    <div class="selector-container">
                        <select>
                            <option>Mis reservas</option>
                            <option>Todas las reservas</option>
                        </select>
                    </div>
                </div>
                <div id="mensajeSeleccionar">Seleccione una opción para descargar el pdf, puede elegir descargar solo sus propias reservas o todas las reservas disponibles.</div>
            </div>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Usuario</th>
                            <th>Reservación</th>
                            <th>H.entrada</th>
                            <th>H.salida</th>
                            <th>Modificación</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Filas de ejemplo -->
                        <tr>
                            <td>Juan</td>
                            <td>Reserva 1</td>
                            <td>10:00</td>
                            <td>12:00</td>
                            <td>
                                <button class="edit" onclick="openModal()">Editar</button>
                                <button class="delete">Eliminar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pdf-download">
                <button>Descargar pdf</button>
            </div>
        </div>
    </div>

    <!-- Modal de edición -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Editar reservación</h2>
            <form>
                <div class="form-group">
                    <label for="usuario">Usuario</label>
                    <input type="text" id="usuario" name="usuario">
                </div>
                <div class="form-group">
                    <label for="hentrada">H.entrada</label>
                    <input type="text" id="hentrada" name="hentrada">
                </div>
                <div class="form-group">
                    <label for="reservacion">Reservación</label>
                    <input type="text" id="reservacion" name="reservacion">
                </div>
                <div class="form-group">
                    <label for="hsalida">H.salida</label>
                    <input type="text" id="hsalida" name="hsalida">
                </div>
                <div class="button-container">
                    <button type="submit" class="save">Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Función para abrir el modal
        function openModal() {
            document.getElementById('editModal').style.display = 'flex';
        }

        // Función para cerrar el modal
        function closeModal() {
            document.getElementById('editModal').style.display = 'none';
        }

        // Cerrar el modal al hacer clic fuera del contenido del modal
        window.onclick = function(event) {
            const modal = document.getElementById('editModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        // Manejar el cambio de la foto de perfil
        var profileContainer = document.querySelector('.profile-container');
        var profilePic = document.getElementById('profilePic');
        var profileInput = document.getElementById('profileInput');

        profileContainer.addEventListener('click', function() {
            profileInput.click();
        });

        profileInput.addEventListener('change', function(event) {
            var reader = new FileReader();
            reader.onload = function(e) {
                profilePic.src = e.target.result;
            }
            reader.readAsDataURL(event.target.files[0]);
        });
    </script>
</body>
</html>
